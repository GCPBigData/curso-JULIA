

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Parallel Computing &mdash; documentación de Julia Language - 0.3-dev</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  

  
    <link rel="stylesheet" href="https://media.readthedocs.org/css/badge_only.css" type="text/css" />
  
    <link rel="stylesheet" href="https://media.readthedocs.org/css/readthedocs-doc-embed.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/julia.css" type="text/css" />
  
    <link rel="top" title="documentación de Julia Language - 0.3-dev" href="../index.html"/>
        <link rel="up" title="El Manual de Julia" href="index.html"/>
        <link rel="next" title="Running External Programs" href="running-external-programs.html"/>
        <link rel="prev" title="Arreglos" href="arrays.html"/>
 
<!-- RTD Extra Head -->



<!-- 
Read the Docs is acting as the canonical URL for your project. 
If you want to change it, more info is available in our docs:
  http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="http://julia-es-la.readthedocs.org/es/latest/manual/parallel-computing.html" />

<script type="text/javascript">
  // This is included here because other places don't have access to the pagename variable.
  var READTHEDOCS_DATA = {
    project: "julia-es-la",
    version: "latest",
    language: "es",
    page: "manual/parallel-computing",
    theme: "julia",
    docroot: "/",
    source_suffix: ".rst",
    api_host: "https://readthedocs.org"
  }
  // Old variables
  var doc_version = "latest";
  var doc_slug = "julia-es-la";
  var page_name = "manual/parallel-computing";
  var html_theme = "julia";
</script>
<!-- RTD Analytics Code -->
<!-- Included in the header because you don't have a footer block. -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17997319-1']);
  _gaq.push(['_trackPageview']);


  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<!-- end RTD Analytics Code -->
<!-- end RTD <extrahead> -->


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="http://julialang.org/"><img src="../_static/julia-logo.svg" class="logo"></a>
        <!--
        <a href="../index.html" class="fa fa-home"> Julia Language</a>
        -->
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">El Manual de Julia</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">Introducción</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html">Comenzando</a></li>
<li class="toctree-l2"><a class="reference internal" href="integers-and-floating-point-numbers.html">Integers and Floating-Point Numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="mathematical-operations.html">Mathematical Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="complex-and-rational-numbers.html">Complex and Rational Numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="strings.html">Strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="functions.html">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="control-flow.html">Control Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="variables-and-scoping.html">Variables and Scoping</a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html">Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="methods.html">Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="constructors.html">Constructors</a></li>
<li class="toctree-l2"><a class="reference internal" href="conversion-and-promotion.html">Conversion and Promotion</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="metaprogramming.html">Metaprogramming</a></li>
<li class="toctree-l2"><a class="reference internal" href="arrays.html">Arreglos</a></li>
<li class="toctree-l2"><a class="reference internal" href="arrays.html#sparse-matrices">Sparse Matrices</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Parallel Computing</a></li>
<li class="toctree-l2"><a class="reference internal" href="running-external-programs.html">Running External Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="calling-c-and-fortran-code.html">Calling C and Fortran Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="packages.html">Julia Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="performance-tips.html">Performance Tips</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/index.html">Libreria estandar de Julia</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/index.html#built-ins">Built-ins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/index.html#built-in-modules">Built-in Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../packages/packagelist.html">Paquetes Disponibles (en inglés)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id1">ArgParse</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id2">Benchmark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id3">BinDeps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id4">BioSeq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id5">BloomFilters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id7">Cairo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id8">Calculus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id10">Calendar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id11">Catalan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id12">Clang</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id13">Clp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id14">Clustering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id16">Codecs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id17">CoinMP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id19">Color</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id21">Compose</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id23">ContinuedFractions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id25">Cpp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id26">Cubature</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id27">Curl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id28">DICOM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id30">DataFrames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id31">DataStructures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id32">Debug</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id33">DecisionTree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id34">Devectorize</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id36">DictViews</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id37">DimensionalityReduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id39">Distance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id41">Distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id42">Elliptic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id44">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id46">FITSIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id48">FactCheck</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id49">FastaRead</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id51">FileFind</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id53">GLFW</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id54">GLM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id56">GLPK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id58">GLUT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id59">GSL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id60">GZip</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id61">Gadfly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id63">Gaston</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id64">GetC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id66">GoogleCharts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id67">Graphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id69">Grid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id71">Gtk</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id72">Gurobi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id74">HDF5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id76">HDFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id78">HTTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id79">Hadamard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id81">HypothesisTests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id82">ICU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id84">Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id86">ImmutableArrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id87">IniFile</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id89">Iterators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id91">Ito</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id92">JSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id94">JudyDicts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id95">JuliaWebRepl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id97">Jyacas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id99">KLDivergence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id101">LM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id103">Languages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id105">LazySequences</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id107">LinProgGLPK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id109">Loss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id111">MAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id113">MATLAB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id115">MCMC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id116">MLBase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id118">MarketTechnicals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id119">MathProg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id120">MathProgBase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id122">Meshes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id124">MixedModels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id125">Monads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id126">Mongo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id127">Mongrel2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id129">Mustache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id131">NHST</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id133">NLopt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id135">Named</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id137">ODBC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id138">ODE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id140">OpenGL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id142">OpenSSL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id144">Optim</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id146">Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id148">PLX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id150">PatternDispatch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id152">Polynomial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id154">Profile</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id156">ProjectTemplate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id158">PyCall</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id160">QuickCheck</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id162">RDatasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id164">RNGTest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id165">RandomMatrices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id167">Resampling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id169">Rif</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id170">Rmath</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id172">SDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id173">SDL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id175">SemidefiniteProgramming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id177">SimJulia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id178">Sims</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id179">Stats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id181">StrPack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id183">Sundials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id185">SymbolicLP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id187">TOML</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id188">TextAnalysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id190">TextWrap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id192">TimeModels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id194">TimeSeries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id196">Tk</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id198">TkExtras</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id200">TopicModels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id201">TradingInstrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id203">Trie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id205">UTF16</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id207">Units</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id209">WAV</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id210">Winston</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id212">ZMQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id214">Zlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages/packagelist.html#id216">kNN</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Julia Language</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">El Manual de Julia</a> &raquo;</li>
      
    <li>Parallel Computing</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="https://github.com/lbenitesanchez/julia-doc-es-la/blob/master/manual/parallel-computing.rst" class="fa fa-github"> Edit on GitHub</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="parallel-computing">
<span id="man-parallel-computing"></span><h1>Parallel Computing<a class="headerlink" href="#parallel-computing" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Most modern computers possess more than one CPU, and several computers
can be combined together in a cluster. Harnessing the power of these
multiple CPUs allows many computations to be completed more quickly.
There are two major factors that influence performance: the speed of the
CPUs themselves, and the speed of their access to memory. In a cluster,
it&#8217;s fairly obvious that a given CPU will have fastest access to the RAM
within the same computer (node). Perhaps more surprisingly, similar
issues are very relevant on a typical multicore laptop, due to
differences in the speed of main memory and the
<a class="reference external" href="http://www.akkadia.org/drepper/cpumemory.pdf">cache</a>. Consequently, a
good multiprocessing environment should allow control over the
&#8220;ownership&#8221; of a chunk of memory by a particular CPU. Julia provides a
multiprocessing environment based on message passing to allow programs
to run on multiple processors in separate memory domains at once.</p>
<p>Julia&#8217;s implementation of message passing is different from other
environments such as MPI. Communication in Julia is generally
&#8220;one-sided&#8221;, meaning that the programmer needs to explicitly manage only
one processor in a two-processor operation. Furthermore, these
operations typically do not look like &#8220;message send&#8221; and &#8220;message
receive&#8221; but rather resemble higher-level operations like calls to user
functions.</p>
<p>Parallel programming in Julia is built on two primitives: <em>remote
references</em> and <em>remote calls</em>. A remote reference is an object that can
be used from any processor to refer to an object stored on a particular
processor. A remote call is a request by one processor to call a certain
function on certain arguments on another (possibly the same) processor.
A remote call returns a remote reference to its result. Remote calls
return immediately; the processor that made the call proceeds to its
next operation while the remote call happens somewhere else. You can
wait for a remote call to finish by calling <tt class="docutils literal"><span class="pre">wait</span></tt> on its remote
reference, and you can obtain the full value of the result using
<tt class="docutils literal"><span class="pre">fetch</span></tt>.</p>
<p>Let&#8217;s try this out. Starting with <tt class="docutils literal"><span class="pre">julia</span> <span class="pre">-p</span> <span class="pre">n</span></tt> provides <tt class="docutils literal"><span class="pre">n</span></tt>
processors on the local machine. Generally it makes sense for <tt class="docutils literal"><span class="pre">n</span></tt> to
equal the number of CPU cores on the machine.</p>
<div class="highlight-julia"><div class="highlight"><pre><span class="o">$</span> <span class="o">./</span><span class="n">julia</span> <span class="o">-</span><span class="n">p</span> <span class="mi">2</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">remote_call</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">rand</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">RemoteRef</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="n">fetch</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="mi">2</span><span class="n">x2</span> <span class="kt">Float64</span> <span class="n">Array</span><span class="p">:</span>
 <span class="mf">0.60401</span>   <span class="mf">0.501111</span>
 <span class="mf">0.174572</span>  <span class="mf">0.157411</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="p">@</span><span class="n">spawnat</span> <span class="mi">2</span> <span class="mi">1</span><span class="o">+</span><span class="n">fetch</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="n">RemoteRef</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="n">fetch</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="mi">2</span><span class="n">x2</span> <span class="kt">Float64</span> <span class="n">Array</span><span class="p">:</span>
 <span class="mf">1.60401</span>  <span class="mf">1.50111</span>
 <span class="mf">1.17457</span>  <span class="mf">1.15741</span>
</pre></div>
</div>
<p>The first argument to <tt class="docutils literal"><span class="pre">remote_call</span></tt> is the index of the processor
that will do the work. Most parallel programming in Julia does not
reference specific processors or the number of processors available,
but <tt class="docutils literal"><span class="pre">remote_call</span></tt> is considered a low-level interface providing
finer control. The second argument to <tt class="docutils literal"><span class="pre">remote_call</span></tt> is the function
to call, and the remaining arguments will be passed to this
function. As you can see, in the first line we asked processor 2 to
construct a 2-by-2 random matrix, and in the second line we asked it
to add 1 to it. The result of both calculations is available in the
two remote references, <tt class="docutils literal"><span class="pre">r</span></tt> and <tt class="docutils literal"><span class="pre">s</span></tt>. The <tt class="docutils literal"><span class="pre">&#64;spawnat</span></tt> macro
evaluates the expression in the second argument on the processor
specified by the first argument.</p>
<p>Occasionally you might want a remotely-computed value immediately. This
typically happens when you read from a remote object to obtain data
needed by the next local operation. The function <tt class="docutils literal"><span class="pre">remote_call_fetch</span></tt>
exists for this purpose. It is equivalent to <tt class="docutils literal"><span class="pre">fetch(remote_call(...))</span></tt>
but is more efficient.</p>
<div class="highlight-julia"><div class="highlight"><pre><span class="n">julia</span><span class="o">&gt;</span> <span class="n">remote_call_fetch</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">getindex</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="mf">0.10824216411304866</span>
</pre></div>
</div>
<p>Remember that <tt class="docutils literal"><span class="pre">getindex(r,1,1)</span></tt> is <a class="reference internal" href="arrays.html#man-array-indexing"><em>equivalent</em></a> to
<tt class="docutils literal"><span class="pre">r[1,1]</span></tt>, so this call fetches the first element of the remote
reference <tt class="docutils literal"><span class="pre">r</span></tt>.</p>
<p>The syntax of <tt class="docutils literal"><span class="pre">remote_call</span></tt> is not especially convenient. The macro
<tt class="docutils literal"><span class="pre">&#64;spawn</span></tt> makes things easier. It operates on an expression rather than
a function, and picks where to do the operation for you:</p>
<div class="highlight-julia"><div class="highlight"><pre><span class="n">julia</span><span class="o">&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="p">@</span><span class="n">spawn</span> <span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">RemoteRef</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="p">@</span><span class="n">spawn</span> <span class="mi">1</span><span class="o">+</span><span class="n">fetch</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="n">RemoteRef</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="n">fetch</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="mf">1.10824216411304866</span> <span class="mf">1.13798233877923116</span>
<span class="mf">1.12376292706355074</span> <span class="mf">1.18750497916607167</span>
</pre></div>
</div>
<p>Note that we used <tt class="docutils literal"><span class="pre">1+fetch(r)</span></tt> instead of <tt class="docutils literal"><span class="pre">1+r</span></tt>. This is because we
do not know where the code will run, so in general a <tt class="docutils literal"><span class="pre">fetch</span></tt> might be
required to move <tt class="docutils literal"><span class="pre">r</span></tt> to the processor doing the addition. In this
case, <tt class="docutils literal"><span class="pre">&#64;spawn</span></tt> is smart enough to perform the computation on the
processor that owns <tt class="docutils literal"><span class="pre">r</span></tt>, so the <tt class="docutils literal"><span class="pre">fetch</span></tt> will be a no-op.</p>
<p>(It is worth noting that <tt class="docutils literal"><span class="pre">&#64;spawn</span></tt> is not built-in but defined in Julia
as a <a class="reference internal" href="metaprogramming.html#man-macros"><em>macro</em></a>. It is possible to define your
own such constructs.)</p>
<p>One important point is that your code must be available on any processor
that runs it. For example, type the following into the julia prompt:</p>
<div class="highlight-julia"><div class="highlight"><pre><span class="n">julia</span><span class="o">&gt;</span> <span class="k">function</span><span class="nf"> rand2</span><span class="p">(</span><span class="n">dims</span><span class="o">...</span><span class="p">)</span>
         <span class="k">return</span> <span class="mi">2</span><span class="o">*</span><span class="n">rand</span><span class="p">(</span><span class="n">dims</span><span class="o">...</span><span class="p">)</span>
       <span class="k">end</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="n">rand2</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="mi">2</span><span class="n">x2</span> <span class="kt">Float64</span> <span class="n">Array</span><span class="p">:</span>
 <span class="mf">0.153756</span>  <span class="mf">0.368514</span>
 <span class="mf">1.15119</span>   <span class="mf">0.918912</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="p">@</span><span class="n">spawn</span> <span class="n">rand2</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">RemoteRef</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="p">@</span><span class="n">spawn</span> <span class="n">rand2</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">RemoteRef</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="n">exception</span> <span class="n">on</span> <span class="mi">2</span><span class="p">:</span> <span class="k">in</span> <span class="n">anonymous</span><span class="p">:</span> <span class="n">rand2</span> <span class="n">not</span> <span class="n">defined</span>
</pre></div>
</div>
<p>Processor 1 knew about the function <tt class="docutils literal"><span class="pre">rand2</span></tt>, but processor 2 did not.
To make your code available to all processors, the <tt class="docutils literal"><span class="pre">require</span></tt> function will
automatically load a source file on all currently available processors:</p>
<div class="highlight-julia"><div class="highlight"><pre><span class="n">julia</span><span class="o">&gt;</span> <span class="n">require</span><span class="p">(</span><span class="s">&quot;myfile&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In a cluster, the contents of the file (and any files loaded recursively)
will be sent over the network.</p>
<div class="section" id="data-movement">
<h2>Data Movement<a class="headerlink" href="#data-movement" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Sending messages and moving data constitute most of the overhead in a
parallel program. Reducing the number of messages and the amount of data
sent is critical to achieving performance and scalability. To this end,
it is important to understand the data movement performed by Julia&#8217;s
various parallel programming constructs.</p>
<p><tt class="docutils literal"><span class="pre">fetch</span></tt> can be considered an explicit data movement operation, since
it directly asks that an object be moved to the local machine.
<tt class="docutils literal"><span class="pre">&#64;spawn</span></tt> (and a few related constructs) also moves data, but this is
not as obvious, hence it can be called an implicit data movement
operation. Consider these two approaches to constructing and squaring a
random matrix:</p>
<div class="highlight-julia"><div class="highlight"><pre><span class="c"># method 1</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">Bref</span> <span class="o">=</span> <span class="p">@</span><span class="n">spawn</span> <span class="n">A</span><span class="o">^</span><span class="mi">2</span>
<span class="o">...</span>
<span class="n">fetch</span><span class="p">(</span><span class="n">Bref</span><span class="p">)</span>

<span class="c"># method 2</span>
<span class="n">Bref</span> <span class="o">=</span> <span class="p">@</span><span class="n">spawn</span> <span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span>
<span class="o">...</span>
<span class="n">fetch</span><span class="p">(</span><span class="n">Bref</span><span class="p">)</span>
</pre></div>
</div>
<p>The difference seems trivial, but in fact is quite significant due to
the behavior of <tt class="docutils literal"><span class="pre">&#64;spawn</span></tt>. In the first method, a random matrix is
constructed locally, then sent to another processor where it is squared.
In the second method, a random matrix is both constructed and squared on
another processor. Therefore the second method sends much less data than
the first.</p>
<p>In this toy example, the two methods are easy to distinguish and choose
from. However, in a real program designing data movement might require
more thought and very likely some measurement. For example, if the first
processor needs matrix <tt class="docutils literal"><span class="pre">A</span></tt> then the first method might be better. Or,
if computing <tt class="docutils literal"><span class="pre">A</span></tt> is expensive and only the current processor has it,
then moving it to another processor might be unavoidable. Or, if the
current processor has very little to do between the <tt class="docutils literal"><span class="pre">&#64;spawn</span></tt> and
<tt class="docutils literal"><span class="pre">fetch(Bref)</span></tt> then it might be better to eliminate the parallelism
altogether. Or imagine <tt class="docutils literal"><span class="pre">rand(1000,1000)</span></tt> is replaced with a more
expensive operation. Then it might make sense to add another <tt class="docutils literal"><span class="pre">&#64;spawn</span></tt>
statement just for this step.</p>
</div>
<div class="section" id="parallel-map-and-loops">
<h2>Parallel Map and Loops<a class="headerlink" href="#parallel-map-and-loops" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Fortunately, many useful parallel computations do not require data
movement. A common example is a monte carlo simulation, where multiple
processors can handle independent simulation trials simultaneously. We
can use <tt class="docutils literal"><span class="pre">&#64;spawn</span></tt> to flip coins on two processors. First, write the
following function in <tt class="docutils literal"><span class="pre">count_heads.jl</span></tt>:</p>
<div class="highlight-julia"><div class="highlight"><pre><span class="k">function</span><span class="nf"> count_heads</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">c</span><span class="p">::</span><span class="kt">Int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="n">n</span>
        <span class="n">c</span> <span class="o">+=</span> <span class="n">randbool</span><span class="p">()</span>
    <span class="k">end</span>
    <span class="n">c</span>
<span class="k">end</span>
</pre></div>
</div>
<p>The function <tt class="docutils literal"><span class="pre">count_heads</span></tt> simply adds together <tt class="docutils literal"><span class="pre">n</span></tt> random bits.
Here is how we can perform some trials on two machines, and add together the
results:</p>
<div class="highlight-julia"><div class="highlight"><pre><span class="n">require</span><span class="p">(</span><span class="s">&quot;count_heads&quot;</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="p">@</span><span class="n">spawn</span> <span class="n">count_heads</span><span class="p">(</span><span class="mi">100000000</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="p">@</span><span class="n">spawn</span> <span class="n">count_heads</span><span class="p">(</span><span class="mi">100000000</span><span class="p">)</span>
<span class="n">fetch</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">+</span><span class="n">fetch</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<p>This example, as simple as it is, demonstrates a powerful and often-used
parallel programming pattern. Many iterations run independently over
several processors, and then their results are combined using some
function. The combination process is called a <em>reduction</em>, since it is
generally tensor-rank-reducing: a vector of numbers is reduced to a
single number, or a matrix is reduced to a single row or column, etc. In
code, this typically looks like the pattern <tt class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">f(x,v[i])</span></tt>, where
<tt class="docutils literal"><span class="pre">x</span></tt> is the accumulator, <tt class="docutils literal"><span class="pre">f</span></tt> is the reduction function, and the
<tt class="docutils literal"><span class="pre">v[i]</span></tt> are the elements being reduced. It is desirable for <tt class="docutils literal"><span class="pre">f</span></tt> to be
associative, so that it does not matter what order the operations are
performed in.</p>
<p>Notice that our use of this pattern with <tt class="docutils literal"><span class="pre">count_heads</span></tt> can be
generalized. We used two explicit <tt class="docutils literal"><span class="pre">&#64;spawn</span></tt> statements, which limits
the parallelism to two processors. To run on any number of processors,
we can use a <em>parallel for loop</em>, which can be written in Julia like
this:</p>
<div class="highlight-julia"><div class="highlight"><pre><span class="n">nheads</span> <span class="o">=</span> <span class="p">@</span><span class="n">parallel</span> <span class="p">(</span><span class="o">+</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">200000000</span>
  <span class="n">randbool</span><span class="p">()</span>
<span class="k">end</span>
</pre></div>
</div>
<p>This construct implements the pattern of assigning iterations to
multiple processors, and combining them with a specified reduction (in
this case <tt class="docutils literal"><span class="pre">(+)</span></tt>). The result of each iteration is taken as the value
of the last expression inside the loop. The whole parallel loop
expression itself evaluates to the final answer.</p>
<p>Note that although parallel for loops look like serial for loops, their
behavior is dramatically different. In particular, the iterations do not
happen in a specified order, and writes to variables or arrays will not
be globally visible since iterations run on different processors. Any
variables used inside the parallel loop will be copied and broadcast to
each processor.</p>
<p>For example, the following code will not work as intended:</p>
<div class="highlight-julia"><div class="highlight"><pre><span class="n">a</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">(</span><span class="mi">100000</span><span class="p">)</span>
<span class="p">@</span><span class="n">parallel</span> <span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">100000</span>
  <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>
<span class="k">end</span>
</pre></div>
</div>
<p>Notice that the reduction operator can be omitted if it is not needed.
However, this code will not initialize all of <tt class="docutils literal"><span class="pre">a</span></tt>, since each
processor will have a separate copy if it. Parallel for loops like these
must be avoided. Fortunately, distributed arrays can be used to get
around this limitation, as we will see in the next section.</p>
<p>Using &#8220;outside&#8221; variables in parallel loops is perfectly reasonable if
the variables are read-only:</p>
<div class="highlight-julia"><div class="highlight"><pre><span class="n">a</span> <span class="o">=</span> <span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="p">@</span><span class="n">parallel</span> <span class="p">(</span><span class="o">+</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">100000</span>
  <span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">randi</span><span class="p">(</span><span class="k">end</span><span class="p">)])</span>
<span class="k">end</span>
</pre></div>
</div>
<p>Here each iteration applies <tt class="docutils literal"><span class="pre">f</span></tt> to a randomly-chosen sample from a
vector <tt class="docutils literal"><span class="pre">a</span></tt> shared by all processors.</p>
<p>In some cases no reduction operator is needed, and we merely wish to
apply a function to all integers in some range (or, more generally, to
all elements in some collection). This is another useful operation
called <em>parallel map</em>, implemented in Julia as the <tt class="docutils literal"><span class="pre">pmap</span></tt> function.
For example, we could compute the singular values of several large
random matrices in parallel as follows:</p>
<div class="highlight-julia"><div class="highlight"><pre><span class="n">M</span> <span class="o">=</span> <span class="p">{</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">10</span><span class="p">}</span>
<span class="n">pmap</span><span class="p">(</span><span class="n">svd</span><span class="p">,</span> <span class="n">M</span><span class="p">)</span>
</pre></div>
</div>
<p>Julia&#8217;s <tt class="docutils literal"><span class="pre">pmap</span></tt> is designed for the case where each function call does
a large amount of work. In contrast, <tt class="docutils literal"><span class="pre">&#64;parallel</span> <span class="pre">for</span></tt> can handle
situations where each iteration is tiny, perhaps merely summing two
numbers.</p>
</div>
<div class="section" id="synchronization-with-remote-references">
<h2>Synchronization With Remote References<a class="headerlink" href="#synchronization-with-remote-references" title="Enlazar permanentemente con este título">¶</a></h2>
</div>
<div class="section" id="scheduling">
<h2>Scheduling<a class="headerlink" href="#scheduling" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Julia&#8217;s parallel programming platform uses
<a class="reference internal" href="control-flow.html#man-tasks"><em>Tasks (aka Coroutines)</em></a> to switch among
multiple computations. Whenever code performs a communication operation
like <tt class="docutils literal"><span class="pre">fetch</span></tt> or <tt class="docutils literal"><span class="pre">wait</span></tt>, the current task is suspended and a
scheduler picks another task to run. A task is restarted when the event
it is waiting for completes.</p>
<p>For many problems, it is not necessary to think about tasks directly.
However, they can be used to wait for multiple events at the same time,
which provides for <em>dynamic scheduling</em>. In dynamic scheduling, a
program decides what to compute or where to compute it based on when
other jobs finish. This is needed for unpredictable or unbalanced
workloads, where we want to assign more work to processors only when
they finish their current tasks.</p>
<p>As an example, consider computing the singular values of matrices of
different sizes:</p>
<div class="highlight-julia"><div class="highlight"><pre><span class="n">M</span> <span class="o">=</span> <span class="p">{</span><span class="n">rand</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span><span class="mi">800</span><span class="p">),</span> <span class="n">rand</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span><span class="mi">600</span><span class="p">),</span> <span class="n">rand</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span><span class="mi">800</span><span class="p">),</span> <span class="n">rand</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span><span class="mi">600</span><span class="p">)}</span>
<span class="n">pmap</span><span class="p">(</span><span class="n">svd</span><span class="p">,</span> <span class="n">M</span><span class="p">)</span>
</pre></div>
</div>
<p>If one processor handles both 800x800 matrices and another handles both
600x600 matrices, we will not get as much scalability as we could. The
solution is to make a local task to &#8220;feed&#8221; work to each processor when
it completes its current task. This can be seen in the implementation of
<tt class="docutils literal"><span class="pre">pmap</span></tt>:</p>
<div class="highlight-julia"><div class="highlight"><pre><span class="k">function</span><span class="nf"> pmap</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">lst</span><span class="p">)</span>
    <span class="n">np</span> <span class="o">=</span> <span class="n">nprocs</span><span class="p">()</span>  <span class="c"># determine the number of processors available</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">length</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">cell</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="c"># function to produce the next work item from the queue.</span>
    <span class="c"># in this case it&#39;s just an index.</span>
    <span class="n">next_idx</span><span class="p">()</span> <span class="o">=</span> <span class="p">(</span><span class="n">idx</span><span class="o">=</span><span class="n">i</span><span class="p">;</span> <span class="n">i</span><span class="o">+=</span><span class="mi">1</span><span class="p">;</span> <span class="n">idx</span><span class="p">)</span>
    <span class="p">@</span><span class="n">sync</span> <span class="k">begin</span>
        <span class="k">for</span> <span class="n">p</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="n">np</span>
            <span class="p">@</span><span class="n">spawnlocal</span> <span class="k">begin</span>
                <span class="k">while</span> <span class="n">true</span>
                    <span class="n">idx</span> <span class="o">=</span> <span class="n">next_idx</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">idx</span> <span class="o">&gt;</span> <span class="n">n</span>
                        <span class="k">break</span>
                    <span class="k">end</span>
                    <span class="n">results</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">remote_call_fetch</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">lst</span><span class="p">[</span><span class="n">idx</span><span class="p">])</span>
                <span class="k">end</span>
            <span class="k">end</span>
        <span class="k">end</span>
    <span class="k">end</span>
    <span class="n">results</span>
<span class="k">end</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">&#64;spawnlocal</span></tt> is similar to <tt class="docutils literal"><span class="pre">&#64;spawn</span></tt>, but only runs tasks on the
local processor. We use it to create a &#8220;feeder&#8221; task for each processor.
Each task picks the next index that needs to be computed, then waits for
its processor to finish, then repeats until we run out of indexes. A
<tt class="docutils literal"><span class="pre">&#64;sync</span></tt> block is used to wait for all the local tasks to complete, at
which point the whole operation is done. Notice that all the feeder
tasks are able to share state via <tt class="docutils literal"><span class="pre">next_idx()</span></tt> since they all run on
the same processor. However, no locking is required, since the threads
are scheduled cooperatively and not preemptively. This means context
switches only occur at well-defined points (during the <tt class="docutils literal"><span class="pre">fetch</span></tt>
operation).</p>
</div>
<div class="section" id="sending-instructions-to-all-processors">
<h2>Sending Instructions To All Processors<a class="headerlink" href="#sending-instructions-to-all-processors" title="Enlazar permanentemente con este título">¶</a></h2>
<p>It is often useful to execute a statement on all processors, particularly
for setup tasks such as loading source files and defining common variables.
This can be done with the <tt class="docutils literal"><span class="pre">&#64;everywhere</span></tt> macro:</p>
<blockquote>
<div>&#64;everywhere include(&#8220;defs.jl&#8221;)</div></blockquote>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="running-external-programs.html" class="btn btn-neutral float-right" title="Running External Programs">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="arrays.html" class="btn btn-neutral" title="Arreglos"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2012-2013, Jeff Bezanson, Stefan Karpinski, Viral Shah, Alan Edelman, et al..
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.3-dev',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="https://media.readthedocs.org/javascript/jquery/jquery-2.0.3.min.js"></script>
      <script type="text/javascript" src="https://media.readthedocs.org/javascript/jquery/jquery-migrate-1.2.1.min.js"></script>
      <script type="text/javascript" src="https://media.readthedocs.org/javascript/underscore.js"></script>
      <script type="text/javascript" src="https://media.readthedocs.org/javascript/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>
      <script type="text/javascript" src="https://media.readthedocs.org/javascript/readthedocs-doc-embed.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>